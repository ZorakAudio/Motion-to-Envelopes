
# FluxBridge (REAPER)

This folder contains the **REAPER-side integration** for M2E.

FluxBridge’s job is simple:
> Take motion envelopes exported by M2E and make them immediately usable inside REAPER.

It does **not** generate sound.  
It routes, exposes, and wires envelopes so *you* can decide what they drive.

---

## What’s included

### JSFX (required)
- **FluxBridge_Receiver.jsfx**  
  Receives motion data (MIDI CC) and exposes it as clean, named control signals.

- **Auto_Envelope_Router.jsfx**  
  Automatically routes those signals to REAPER track envelopes and FX parameters.

### Script (required)
- **FluxBridge AutoImporter V2.lua**  
  Watches an “inbox” folder and auto-imports:
  - MIDI
  - CSV
  - mappings  
  generated by M2E.

---

## Installation (one-time)

1. Copy **JSFX** files to:
```

REAPER/Effects/FluxBridge/

```

2. Copy the **Lua script** to:
```

REAPER/Scripts/FluxBridge/

```

3. In REAPER:
- Open **Actions**
- Click **ReaScript → Load**
- Load `FluxBridge AutoImporter V2.lua`

(Optional but recommended: assign the script to a shortcut or toolbar.)

---

## Basic workflow (2 minutes)

### 1) Export from M2E
From M2E, export a scene.  
This generates:
- `.mid`
- `.csv`
- `.midi_map.json`

They will appear in the FluxBridge **inbox** folder.

---

### 2) Run the AutoImporter
Run **FluxBridge AutoImporter V2**.

What it does automatically:
- creates tracks
- inserts FluxBridge_Receiver
- inserts Auto_Envelope_Router
- imports MIDI + CSV
- sets up routing

You should immediately see:
- named envelopes on tracks
- motion data already moving

No MIDI learn. No manual wiring.

---

### 3) Use the envelopes
Once imported, you can:

- Link envelopes to:
- FX parameters
- sends
- automation items
- Or convert envelopes into:
- automation items
- baked automation
- modulation sources

At this point, FluxBridge is *done*.  
Everything else is standard REAPER work.

---

## Mental model (important)

FluxBridge treats motion as **control voltage**, not notes.

- MIDI CC is just a carrier
- Envelopes are the truth
- JSFX exposes signals
- REAPER decides what they drive

Think:
> “This envelope *causes* sound behavior.”

Not:
> “This plugin plays sound.”

---

## Typical mappings (safe starting points)

- **Speed** → layer density, subtle saturation
- **Impact spikes** → one-shot triggers / transient layers
- **Impact score** → transient intensity
- **Entropy** → texture bed level, micro-mod depth
- **Direction / Axis** → small spatial or timbral bias

Keep ranges small.  
Let motion *nudge*, not dominate.

---

## Common issues (quick fixes)

### “Nothing happened after import”
- Make sure **both JSFX** are installed
- Make sure AutoImporter ran without errors
- Check that envelopes are visible (not hidden)

---

### “I see MIDI but no envelopes”
- Auto_Envelope_Router may not be inserted
- Check the track FX chain

---

### “Everything pumps / goes crazy”
- Envelope ranges too wide
- Camera motion leaking into local mappings
- Reduce depth before changing logic

---

### “Scrubbing doesn’t update sound”
- Convert envelopes to automation items
- Or use envelope modulation instead of raw CC

(REAPER behaves correctly here; this is not a bug.)

---

## What FluxBridge does *not* do

- It does not generate sound
- It does not choose mappings
- It does not impose aesthetics
- It does not guess your intent

FluxBridge gives you **clean motion envelopes** and gets out of the way.

---

## Where to learn more

- **TECHNICAL.md** (root repo)  
Explains:
- why envelopes behave the way they do
- camera motion, occlusion, smooth shading
- psychoacoustics and salience
- how to map motion without fatigue

If something feels “weird,” the answer is almost always *there*.

---

## Philosophy (one sentence)

FluxBridge exists so motion can drive sound **honestly**, without manual busywork.
